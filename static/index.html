<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>æ±‚äººç¥¨ãƒ¤ãƒã•è¨ºæ–­ v4.2</title><style>:root{--bg:#0b1220;--card:#0f172a;--line:#1f2937;--text:#e5e7eb;--muted:#9ca3af;--ok:#10b981;--warn:#f59e0b;--bad:#ef4444;--chip:#111827}*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,"Noto Sans JP",sans-serif}header{position:sticky;top:0;background:rgba(11,18,32,.8);backdrop-filter:blur(6px);border-bottom:1px solid var(--line);padding:12px 16px}.container{max-width:1100px;margin:0 auto;padding:20px}h1{margin:0;font-size:20px}.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}@media (max-width:900px){.grid{grid-template-columns:1fr}}.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:16px}label{display:block;margin:10px 0 4px}input[type="text"],textarea,select{width:100%;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0b1220;color:var(--text)}button{padding:10px 14px;border-radius:10px;border:1px solid var(--line);background:#111827;color:var(--text);cursor:pointer}.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.muted{color:var(--muted);font-size:12px}.scorebar{height:10px;border-radius:8px;background:#111827;overflow:hidden;border:1px solid var(--line)}.scorebar>div{height:100%;width:0%}.chip{display:inline-block;background:var(--chip);border:1px solid var(--line);padding:2px 8px;border-radius:999px;font-size:12px;margin-right:6px}.pill{display:inline-block;border-radius:999px;padding:2px 8px;border:1px solid var(--line);font-size:12px}.tag-ok{background:rgba(16,185,129,.15);color:#34d399}.tag-warn{background:rgba(245,158,11,.15);color:#fbbf24}.tag-bad{background:rgba(239,68,68,.15);color:#f87171}.evidence{background:#0b1220;border:1px dashed var(--line);border-radius:8px;padding:8px;font-size:13px;margin:6px 0}img{max-width:100%;height:auto}</style></head><body><header><div class="container"><h1>ğŸš¨ æ±‚äººç¥¨ãƒ¤ãƒã•è¨ºæ–­ v4.2</h1></div></header><main class="container"><div class="grid"><section class="card"><div class="row"><label class="pill">ãƒ¢ãƒ¼ãƒ‰</label><label class="chip"><input type="radio" name="mode" value="standard" checked> æ¨™æº–</label><label class="chip"><input type="radio" name="mode" value="strict"> å³æ ¼</label><label class="chip"><input type="radio" name="mode" value="lenient"> ç”˜ã‚</label></div><label>ã‚»ã‚¯ã‚¿ãƒ¼ï¼ˆä»»æ„ï¼‰</label><select id="sector"><option value="">æœªé¸æŠ</option><option value="ses">SES/ITæ´¾é£</option><option value="recruiting">äººæ/å–¶æ¥­</option><option value="ad">åºƒå‘Š/ãƒ¡ãƒ‡ã‚£ã‚¢</option><option value="saas">SaaS/ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—</option><option value="retail">å°å£²/é£²é£Ÿ</option></select><label style="margin-top:8px;">æ±‚äººç¥¨URLï¼ˆä»»æ„ï¼‰</label><input id="url" type="text" placeholder="https://example.com/job-posting"><p style="text-align:center;margin:8px 0">â€” ã¾ãŸã¯ â€”</p><label>æœ¬æ–‡ï¼ˆæ¨å¥¨ï¼‰</label><textarea id="text" rows="12" placeholder="æ±‚äººç¥¨ã®æœ¬æ–‡ã‚’è²¼ã‚Šä»˜ã‘"></textarea><div class="row" style="margin-top:8px"><button id="analyzeBtn">è¨ºæ–­ã™ã‚‹</button><span id="status" class="muted"></span></div><p class="muted">â€» å‹•çš„ã‚µã‚¤ãƒˆã‚„ä¼šå“¡åˆ¶ã‚µã‚¤ãƒˆã¯URLå–å¾—ã«å¤±æ•—ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚æœ¬æ–‡è²¼ã‚Šä»˜ã‘ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</p></section><section class="card"><strong>çµæœ</strong><div class="scorebar" style="margin:8px 0 4px"><div id="scorebar"></div></div><div class="muted" id="summary">å…¥åŠ›ã‚’å¾…æ©Ÿä¸­â€¦</div><div id="chart" style="margin-top:12px"></div><div id="cats" style="margin-top:8px"></div><div id="reasons" style="margin-top:12px"></div><div id="evidence" style="margin-top:12px"></div></section></div><section class="card" style="margin-top:16px"><h3>å…è²¬äº‹é …</h3><p class="muted">æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã¯æ±‚äººç¥¨ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚‚ã¨ã«ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã«ã€Œæ³¨æ„ç‚¹ã€ã‚’è¡¨ç¤ºã™ã‚‹å‚è€ƒãƒ„ãƒ¼ãƒ«ã§ã™ã€‚æ³•ä»¤éµå®ˆãƒ»é›‡ç”¨æ¡ä»¶ã®é©åˆæ€§ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ¡ç”¨åˆ¤æ–­ã‚„è»¢è·åˆ¤æ–­ã¯ã€å¥‘ç´„æ›¸ãƒ»é¢è«‡ãƒ»åŠ´å‹™ç›¸è«‡ãƒ»å„ç¨®å…¬å¼æƒ…å ±ãªã©ã‚’ç·åˆçš„ã«ç¢ºèªã—ãŸä¸Šã§è¡Œã£ã¦ãã ã•ã„ã€‚æœ¬ã‚µãƒ¼ãƒ“ã‚¹ã®åˆ©ç”¨ã«ã‚ˆã‚Šç”Ÿã˜ãŸã„ã‹ãªã‚‹æå®³ã«ã¤ã„ã¦ã‚‚ã€é‹å–¶è€…ã¯è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚</p></section></main><script>function byId(id){return document.getElementById(id)}function getMode(){return[...document.querySelectorAll('input[name=mode]')].find(r=>r.checked).value}function colorFor(total){if(total>=13)return'var(--bad)';if(total>=7)return'var(--warn)';return'var(--ok)'}async function analyze(){const url=byId('url').value.trim();const text=byId('text').value.trim();const sector=byId('sector').value;const mode=getMode();byId('status').textContent='è¨ºæ–­ä¸­â€¦';try{const res=await fetch('/analyze',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({url:url||null,text:text||null,sector:sector||null,mode:mode})});if(!res.ok){const e=await res.json().catch(()=>({}));throw new Error(e.detail||('HTTP '+res.status))}const d=await res.json();byId('summary').innerHTML=`<b>ç·åˆã‚¹ã‚³ã‚¢:</b> ${d.total}ã€€<b>åˆ¤å®š:</b> ${d.label}ã€€<span class="muted">mode=${mode}</span>`;const bar=byId('scorebar');bar.style.width=Math.min(100,(d.total/20)*100)+'%';bar.style.background=colorFor(d.total);const img=d.chart_png_base64?`<img src="data:image/png;base64,${d.chart_png_base64}" alt="radar">`:'';byId('chart').innerHTML=img;const cats=Object.entries(d.category_scores).map(([k,v])=>{const tagClass=v>=4?'tag-bad':(v>=2?'tag-warn':'tag-ok');return`<div class="row"><span class="pill ${tagClass}">${k}</span><div class="chip">ã‚¹ã‚³ã‚¢ ${v}</div></div>`}).join('');byId('cats').innerHTML=cats;const reasons=(d.top_reasons||[]).map(r=>`<li>[${r.category}] ${r.reason} <span class="chip">é‡ã¿ ${r.weight}</span></li>`).join('');byId('reasons').innerHTML=`<h4>ãƒªã‚¹ã‚¯è¦å› </h4><ul>${reasons||'<li>ç‰¹ã«ãªã—</li>'}</ul>`;const ev=(d.evidence||[]).map(e=>`<div class="evidence">[${e.category}] â€¦ ${e.snippet} â€¦</div>`).join('');byId('evidence').innerHTML=ev?`<h4>æ ¹æ‹ ï¼ˆæœ¬æ–‡æŠœç²‹ï¼‰</h4>${ev}`:'';byId('status').textContent=''}catch(e){byId('status').textContent='ã‚¨ãƒ©ãƒ¼: '+e.message}}byId('analyzeBtn').addEventListener('click',analyze);</script></body></html>